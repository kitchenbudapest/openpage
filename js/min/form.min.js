var g=g||{};(function(){"use strict";var EVENTS=["focus","click"];function Form(inputs,send,error,errorFrame){this._inputs=inputs;this._error=error;this._errorFrame=errorFrame;if(send.addEventListener)send.addEventListener("click",this._onSendClicked.bind(this),false);else send.attachEvent("click",this._onSendClicked.bind(this))}Form.prototype._manageEventListeners=function(add,callback){var std,alt;if(add){std="addEventListener";alt="attachEvent"}else{std="removeEventListener";alt="detachEvent"}var i,j,input,inputs=this._inputs,keys=Object.keys(inputs);for(i=0;i<keys.length;i++){input=inputs[keys[i]];try{if(input)if(input[std])for(j=0;j<EVENTS.length;j++)input[std](EVENTS[j],callback,false);else for(j=0;j<EVENTS.length;j++)input[alt]("on"+EVENTS[j],callback)}catch(exception){if(!(exception instanceof TypeError))throw exception}}};Form.prototype.setEventListeners=function(){this._manageEventListeners(true,this._onSetEventListeners)};Form.prototype.delEventListeners=function(){};Form.prototype.setOnSetEventListeners=function(callback){this._onSetEventListeners=callback};Form.prototype._onResponse=function(response){console.log(response)};Form.prototype._onError=function(messages){};Form.prototype._onSendClicked=function(){var i,j,key,input,values={},inputs=this._inputs,keys=Object.keys(inputs);for(i=0;i<keys.length;i++){key=keys[i];input=inputs[key];if(input instanceof Array){for(j=0;j<input.length;j++)if(input[j].checked){values[key]=input[j].value;break}}else values[key]=input.value}g.register.register(values,this._onResponse.bind(this))};g.form={Form:Form}})();